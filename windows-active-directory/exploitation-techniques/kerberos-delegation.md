# Kerberos delegation

> Note that "Kerberos delegation" and "Permission delegation" are 2 different terms. When "AD delegation" is mentioned, it usually refers to "Kerberos delegation".

## Resources

1. constrained delegation abuse

{% embed url="https://docs.specterops.io/ghostpack/rubeus/constrained-delegation-abuse" %}

## Important notice

The examples shown below uses the [kekeo](https://github.com/gentilkiwi/kekeo) tool, which is not maintained anymore and may not work as expected. However, the command examples are used to illustrate basic workflow of the process in a lab environment ([TryHackMe exploiting AD](https://tryhackme.com/room/exploitingad) room).&#x20;

[Rubeus](https://github.com/GhostPack/Rubeus) is a tool that is heavily adapted from the _kekeo_ project, and provides similar functionalities. I aim to provide the equivalent commands; in terms of functionality, in Rubeus for those shown with kekeo.

...

{% code overflow="wrap" %}
```powershell
kekeo # tgt::ask /user:<username> /domain:<domain> /password:<password>

C:\> rubeus.exe s4u ... 
```
{% endcode %}

{% code overflow="wrap" %}
```
kekeo # tgs::s4u /tgt:<TGT> /user:<username> /service:<servicename>
C:\> rubeus.exe ... 
```
{% endcode %}
