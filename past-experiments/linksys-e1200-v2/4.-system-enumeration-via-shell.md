# 4. System enumeration (via shell)

### 4.1 Gaining a shell

{% embed url="https://jarrettgxz-sec.gitbook.io/penetration-testing-ethical-hacking-concepts/hardware-exploitation/techniques/uart-shell" %}

We have to first identify the device name of the USB-UART adapter:

```shellscript
$ ls /dev | grep -i usb
ttyUSB0
```

&#x20;used `picocom` to retrieve a shell, with the baud rate as **115200** (a common first guess)

```shellscript
$ picocom -b 115200 /dev/ttyUSB0
```

* I received a log output with non-gibberish, which tells me that the correct baud rate was chosen

### 4.2 General enumeration

...

```shellscript
# architecture
$ uname -u
$ cat /etc/version
$ cat /etc/banner
$ cat /etc/issue

# firmware version
$ nvram get firmware_version
$ nvram show | grep -i version
 
# stack protections
$ cat /proc/cpuinfo
$ cat /proc/sys/kernel/randomize_va_space

```

### 4.3 `httpd` binary (CVE)

...

```shellscript
# common tools
$ which httpd
$ ps auxw | grep httpd
$ find / -type f -name '*httpd*' 2>/dev/null

# from /etc/inittab and /etc/init.d 
$ cat /etc/inittab
$ grep -R "httpd" /etc/init.d 2>/dev/null
```



